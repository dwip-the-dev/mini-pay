<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>MiniPay ðŸ’€ Dashboard</title>
<style>
  * { box-sizing:border-box; margin:0; padding:0; font-family:'Poppins',sans-serif; }
  body { background: linear-gradient(135deg, #ffffff, #f0f0f0); color:#111; }

  header {
    background: rgba(255,255,255,0.1);
    backdrop-filter: blur(15px);
    padding:20px 40px;
    text-align:center;
    border-bottom:1px solid rgba(0,255,255,0.3);
    box-shadow:0 5px 15px rgba(0,0,0,0.05);
  }
  header h1 { color:#00fff0; text-shadow:0 0 10px #00fff0,0 0 20px #80fff5; }

  nav a {
    color:#00fff0; text-decoration:none; margin:0 15px; font-weight:600; transition:0.3s;
  }
  nav a:hover { color:#80fff5; text-shadow:0 0 10px #00fff0; }

  .container { display:flex; flex-wrap:wrap; justify-content:center; gap:30px; margin:30px; }

  .box {
    background: rgba(255,255,255,0.1);
    backdrop-filter: blur(15px);
    border-radius:20px;
    padding:20px;
    width:300px;
    text-align:center;
    border:1px solid rgba(255,255,255,0.3);
    box-shadow: 0 5px 20px rgba(0,0,0,0.05);
    transition: all 0.4s ease;
  }
  .box:hover { transform: translateY(-8px); box-shadow:0 10px 25px rgba(0,255,255,0.5); }

  .box h3 { color:#00fff0; margin-bottom:15px; }
  .box p { font-size:0.95em; color:#111; }

  input, button {
    padding:10px 15px; margin:5px 0; border-radius:10px; border:1px solid rgba(0,255,255,0.4); font-size:1em;
    outline:none; transition:0.3s;
  }
  input:focus { border-color:#00fff0; box-shadow:0 0 10px #00fff0; }
  button {
    background: linear-gradient(135deg,#00fff0,#80fff5);
    border:none; font-weight:600; cursor:pointer; color:#000; transition:0.3s;
  }
  button:hover { transform:scale(1.05); box-shadow:0 8px 25px rgba(0,255,255,0.8); }

  .balance { font-size:1.5em; margin-bottom:20px; color:#00fff0; }

  table { width:100%; border-collapse:collapse; margin-top:15px; background: rgba(255,255,255,0.05); border-radius:10px; overflow:hidden; }
  th, td { padding:10px; text-align:center; border-bottom:1px solid rgba(0,255,255,0.2); }
  th { background: rgba(0,255,255,0.1); }
  tr:hover { background: rgba(0,255,255,0.2); }

  footer { text-align:center; padding:20px; margin-top:40px; font-size:0.9em; color:#666; }

</style>
</head>
<body>

<header>
  <h1>MiniPay ðŸ’€ Dashboard</h1>
  <nav>
    <a href="/">Home</a> | <a href="/logout">Logout</a>
  </nav>
</header>

<div class="container">
  <!-- Balance Box -->
  <div class="box">
    <h3>ðŸ’µ Current Balance</h3>
    <p class="balance">{{ balance }}</p>
  </div>

  <!-- Send Payment -->
  <div class="box">
    <h3>ðŸ“¤ Send Payment</h3>
    <form id="sendForm" method="POST" action="/send">
      <input type="text" name="recipient" placeholder="Recipient Address" required><br>
      <input type="number" name="amount" placeholder="Amount" required><br>
      <button type="submit">Send</button>
    </form>
  </div>

  <!-- Receive Payment -->
  <div class="box">
    <h3>ðŸ“¥ Receive Payment</h3>
    <p>Your MiniPay Address:</p>
    <p id="myAddress" style="color:#00fff0;font-weight:600;">{{ username }}</p>
    <button onclick="copyAddress()">Copy Address</button>
  </div>

  <!-- Transaction History -->
  <div class="box">
    <h3>ðŸ“œ Transactions</h3>
    <table>
      <thead>
        <tr><th>Type</th><th>To/From</th><th>Amount</th></tr>
      </thead>
      <tbody id="txList">
        {% for tx in transactions[::-1] %}
        <tr>
          <td>{{ tx.type }}</td>
          <td>{{ tx.to if tx.type=='Sent' else tx.from }}</td>
          <td>{{ "%.2f"|format(tx.amount) }}</td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
</div>

<footer>
  MiniPay Demo Platform &copy; 2025 ðŸ’€ðŸ’€ðŸ’€
</footer>

<script>
  function copyAddress(){
    const addr = document.getElementById("myAddress").innerText;
    navigator.clipboard.writeText(addr);
    alert("Address copied: " + addr);
  }
</script>

</body>
</html>